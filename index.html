<!DOCTYPE html>
<html lang="en-US">
  <head>
    <title>


    Blog – SecondSystem
  
  </title>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel='stylesheet' href='/assets/css/purity.css'>
<link rel='stylesheet' href='/custom.css'>

<script src="/comment.js"></script>

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#000000">
<meta name="apple-mobile-web-app-title" content="Second-System.de">
<meta name="application-name" content="Second-System.de">
<meta name="msapplication-TileColor" content="#000000">
<meta name="theme-color" content="#ffffff">
<!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Blog" />
<meta name="author" content="Florian Oetke" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="https://second-system.de/" />
<meta property="og:url" content="https://second-system.de/" />
<meta property="og:site_name" content="SecondSystem" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Blog" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"Florian Oetke"},"headline":"Blog","@type":"WebSite","name":"SecondSystem","url":"https://second-system.de/","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


<!-- TODO: remove once chrome support for hyphenation is stable enough -->
<script>
var Hyphenopoly = {
    require: {
        "en-us": "FORCEHYPHENOPOLY"
    },
    setup: {
        selectors: {
            ".post-site": {}
        }
    }
};
</script>
<script src="/assets/js/Hyphenopoly_Loader.js"></script>


    
    
    <script language="javascript" type="text/javascript">
    	function hide_image_overlay() {
    		var overlay = document.getElementById('image_overlay');
    		overlay.style.visibility = 'hidden';
    		overlay.style.opacity = '0';
    	}
    	function show_image_overlay(event, e) {
    		var overlay = document.getElementById('image_overlay');
    		var imgs = overlay.getElementsByTagName('img');
    		imgs[0].src = '';
    		imgs[0].src = e.getElementsByTagName('img')[0].src;
    		overlay.style.visibility = 'visible';
    		overlay.style.opacity = '1';
    		event.preventDefault();
    	}
    	function showFootnote(e) {
    		document.getElementById('footnote_tooltip_text').textContent = e.title;
    		
    		var tooltip = document.getElementById('footnote_tooltip');
    		tooltip.style.visibility = 'visible';
    		tooltip.style.opacity = '1';
    	}
    	function hideFootnote() {
    		var tooltip = document.getElementById('footnote_tooltip');
    		tooltip.style.visibility = 'hidden';
    		tooltip.style.opacity = '0';
    	}
    </script>
    <link rel="stylesheet" href="/assets/css/darcula.css">
	<script src="/assets/js/highlight.pack.js"></script>
	<script language="javascript" type="text/javascript">
		hljs.highlightAll();
	</script>
	
	<link rel="stylesheet" href="/assets/katex/katex.min.css">
  </head>
  <body>
	


    <div id='site-header-bg' class='site-header-bg'></div>
    <div class='layout'>
      
  <div id='site-header' class='site-header'>
    <div class='pure-g site-header-container'>

      <div id='top-nav-title' class='pure-u-1-1 pure-u-md-1-2 text-align-left-medium'>
        <a class='site-header-title' href='/'>SecondSystem</a>
        
          <div class='site-header-subtitle'>Building worlds from bits and dust</div>
        
      </div>

      <div id='top-nav-menu' class='pure-u-1-1 pure-u-md-1-2 site-header-links text-align-right-medium'>
          <ul class="nav">
            
            
            


  
    
      
      	
      	<li><a href="/about">About</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li class="active"><a href="/" class="active">Blog</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/portfolio">Portfolio</a></li>
      	
      
    
  
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
  



        
            <li class="divider-vertical"></li>
            
            <li>
              <a href="https://gitlab.com/lowkey42" target="_blank" rel="noopener noreferrer">
                <span>GitLab</span>
              </a>
            </li>
            
            
            <li>
              <a href="https://github.com/lowkey42" target="_blank" rel="noopener noreferrer">
                <span>GitHub</span>
              </a>
            </li>
            
          </ul>
      </div>

    </div>
  </div>


      <div id='site-main' class='pure-g site-main'>
        
        
          
  <div id='site-sidebar' class='pure-u site-sidebar'>
    <label for='reveal-sidebar-checkbox' class='reveal-sidebar'>
      <i class='fa fa-2x fa-bars'></i>
    </label>
    <input type='checkbox' id='reveal-sidebar-checkbox' value='button'>

    <div class='sidebar-contents'>
      <div class='vertical-menu' style='min-width: 20em'>
        <ul class='menu-list'>

		
			
			
			
			
		  
			
		   <li><span class='menu-heading'>2022</span><ul class='menu-list'>
		   <li><span class='menu-heading menu-sub-heading'>September</span><ul class='menu-list'>
			
  
            <li class='menu-item'>
              
              <a class='menu-link' href='/2022/09/04/tectonics_3' title='And yet it moves'>
              
                <span class="menu-day">04</span> &ndash; Plate Tectonics 3
              </a>
            </li>
            
			
			  
			    
			     </ul></li>
		         <li><span class='menu-heading menu-sub-heading'>March</span><ul class='menu-list'>
			    
			  
			
		  
			
			
			
			
		  
			
  
            <li class='menu-item'>
              
              <a class='menu-link' href='/2022/03/19/tectonics_2' title='I see now what I need; And write assured: In the beginning was the Deed!'>
              
                <span class="menu-day">19</span> &ndash; Plate Tectonics 2
              </a>
            </li>
            
			
			  
			    
			  
			
		  
			
			
			
			
		  
			
  
            <li class='menu-item'>
              
              <a class='menu-link' href='/2022/03/01/tectonics_1' title='Just slightly faster than the real thing'>
              
                <span class="menu-day">01</span> &ndash; Plate Tectonics 1
              </a>
            </li>
            
			
			  
			    </ul></li></ul></li>
			  	<li class='menu-spacer'></li>
		        <li><span class='menu-heading'>2021</span><ul class='menu-list'>
		        <li><span class='menu-heading menu-sub-heading'>May</span><ul class='menu-list'>
			  
			
		  
			
			
			
			
		  
			
  
            <li class='menu-item'>
              
              <a class='menu-link' href='/2021/05/15/mesh_modifications' title='Adding, flipping, splitting and collapsing edges | Now with 15% more edge-cases'>
              
                <span class="menu-day">15</span> &ndash; Modifying Meshes
              </a>
            </li>
            
			
			  
			    
			  
			
		  
			
			
			
			
		  
			
  
            <li class='menu-item'>
              
              <a class='menu-link' href='/2021/05/02/world_creation' title='In the beginning there were triangles. Lots and lots of triangles...'>
              
                <span class="menu-day">02</span> &ndash; World mesh creation
              </a>
            </li>
            
			
			  
			    
			     </ul></li>
		         <li><span class='menu-heading menu-sub-heading'>April</span><ul class='menu-list'>
			    
			  
			
		  
			
			
			
			
		  
			
  
            <li class='menu-item'>
              
              <a class='menu-link' href='/2021/04/11/data_structure' title='Graph-traversal, triangulation and other fun things to do in non-euclidean space'>
              
                <span class="menu-day">11</span> &ndash; World Data Structure
              </a>
            </li>
            
			
			  
			    
			     </ul></li>
		         <li><span class='menu-heading menu-sub-heading'>March</span><ul class='menu-list'>
			    
			  
			
		  
			
			
			
			
		  
			
  
            <li class='menu-item'>
              
              <a class='menu-link' href='/2021/03/04/yggdrasill' title='Prolog: In which a crazy plan is hatched and a course is set'>
              
                <span class="menu-day">04</span> &ndash; Yggdrasill
              </a>
            </li>
            
			
			
		  
		  
		  </ul></li></ul></li>
		  
			  	<li class='menu-spacer'></li>
		  <li class='menu-separator'></li>
		   <li class='menu-heading'>Tags</li>
		   
		   		   
				<li class='menu-item'>
           			
					<a class='menu-link' href="/tag/yggdrasill">
					
					
						yggdrasill
					</a>
				</li>
		   		   
				<li class='menu-item'>
           			
					<a class='menu-link' href="/tag/low-level">
					
					
						low-level
					</a>
				</li>
		   		   
				<li class='menu-item'>
           			
					<a class='menu-link' href="/tag/simulation">
					
					
						simulation
					</a>
				</li>
		   		   
				<li class='menu-item'>
           			
					<a class='menu-link' href="/tag/plate-tectonics">
					
					
						plate-tectonics
					</a>
				</li>
		   
		   
			  	<li class='menu-spacer'></li>
		  <li class='menu-separator'></li>
		  
		  <li class='menu-heading'>Subscribe</li>   
		  <li class='menu-item'><a class='menu-link' href="/atom.xml">Atom Feed</a></li>
		  <li class='menu-item'><a class='menu-link' href="/rss.xml">RSS Feed</a></li>
		  
        </ul>
      </div>
    </div>
  </div>


        
        <div id='site-container' class='pure-u-1 site-container post-site'>
			<div class="page-header">
				<h1> Blog  <small>Building worlds from bits and dust</small></h1>
		  	</div>
			


<!-- This loops through the paginated posts -->

  <h1><a href="/2021/03/04/yggdrasill">Yggdrasill</a></h1>
  <p class="author">
    <span class="date">04 March 2021</span>
  </p>
  <div class="content">
    <p>As the end of my studies is nigh, I’m looking into possible topics for my master thesis. Alas, I’ve grown a bit tired of writing game engines and renderers lately — who’d have thought.</p>

<p>Luckily, this quest for new <del>shores</del> topics was solved quickly. I’ve also developed quite an interest in procedural generation and always had a bit of a fascination for fantasy worlds and maps. So, I’ve decided to work on procedural world generation.</p>

<p>This is obviously going to be a <a href="https://dwarffortresswiki.org/index.php?title=DF2014:Fun&amp;redirect=no">fun</a> project with much potential for interesting failures.<sup class="footnote" onclick="showFootnote(this)" title="As Gordon Moore put it: If everything you try works, you aren't trying hard enough." data-title="As Gordon Moore put it: If everything you try works, you aren't trying hard enough.">[1]</sup> Therefore, I have the best intentions of documenting my plans, progress and interesting problems here. With best intentions I do of course mean “force myself” and with documenting I mean “dumb my thoughts here and try to make sense of it all here”.</p>

<p>Without further ado: Welcome to this unwise cocktail of a <a href="https://heredragonsabound.blogspot.com/2020/02/the-forever-project.html">forever project</a> and a master thesis.</p>

<br>
    <a href="/2021/03/04/yggdrasill">Read more...</a><br><br>
  </div>

  <h1><a href="/2021/04/11/data_structure">World Data Structure</a></h1>
  <p class="author">
    <span class="date">11 April 2021</span>
  </p>
  <div class="content">
    <p>Before we can get started with the actual generation/<wbr />simulation algorithms we first need to decide how to store our data, i.e. how the world is represented in the data-model. Given that it’s not clear what algorithms, we will use later and what their requirements will be, we’ll want to choose an extendable model, that won’t restrict our options later.</p>
<br>
    <a href="/2021/04/11/data_structure">Read more...</a><br><br>
  </div>

  <h1><a href="/2021/05/02/world_creation">World mesh creation</a></h1>
  <p class="author">
    <span class="date">02 May 2021</span>
  </p>
  <div class="content">
    <p>In the last post we’ve looked at how we can store our geometry, how we can traverse the resulting mesh and how we’ll later store our actual data. But one aspect we haven’t looked at yet is how such a mesh data structure can be constructed in the first place, i.e. how we get from a soup of triangle faces to a quad-edge mesh.</p>

<p>There are two basic operations defined in the original paper to construct and modify meshes:</p>
<ul>
  <li>MakeEdge: Creates a new edge <code>e</code> and its corresponding quad-edge</li>
  <li>Splice: Takes two edges <code>a</code> and <code>b</code> and either connects them or splits them apart, if they are already connected.</li>
</ul>

<p>While these two operations are powerful enough to construct any quad-edge mesh and apply any modification we might want, they are not ideal for our use-case. First they are rather more complex to use, than I would like for everyday use because they require quite a bit of knowledge about topology and use concepts that are not as easy to visualize as faces in a triangle mesh. And secondly, they allow for structures that we don’t actually want to support, like non-triangular faces.</p>

<p>So, what we will do instead is define our own operations, to make our use case as easy as possible. In this post, we will first look at just the construction of a new mesh, for which we’ll define two functions:</p>
<br>
    <a href="/2021/05/02/world_creation">Read more...</a><br><br>
  </div>

  <h1><a href="/2021/05/15/mesh_modifications">Modifying Meshes</a></h1>
  <p class="author">
    <span class="date">15 May 2021</span>
  </p>
  <div class="content">
    <p>This will (hopefully) be the last post about geometry and the Mesh-API, before we can start with the actual generation algorithms.</p>

<p>We’ve already defined a basic data structure for our geometry, implemented algorithms to traverse it and, in the last post, constructed a spherical Delaunay triangulation of random points, distributed evenly on a sphere.</p>

<p>So, the only part of the API that is still missing are functions to modify existing meshes. The three fundamental operations we’ll define for this are:</p>

<pre><code class="language-cpp">class Mesh {
  public:
	// ...
	
	void   flip    (Edge e);
	Edge   split   (Edge e, float split_point);
	Vertex collapse(Edge e, float join_point);
};
</code></pre>

<br>
    <a href="/2021/05/15/mesh_modifications">Read more...</a><br><br>
  </div>

  <h1><a href="/2022/03/01/tectonics_1">Plate Tectonics 1</a></h1>
  <p class="author">
    <span class="date">01 March 2022</span>
  </p>
  <div class="content">
    <p><img src="/assets/images/05/spongebob-many-months-later.gif" style="width:20em" /></p>

<p>Well, that was a bit of a longer pause, than I had hoped. So much for my “best intentions of documenting my progress”…</p>

<p>But I’ve finally managed to implement a working prove-of-concept for the plate simulation to generate terrain, also it’s still a bit rough around the edges.</p>

<figure class="captioned_image full_width">
	<div class="open_img">
	<video loop="" muted="" inline="" controls="" autoplay="">
		<source src="/assets/images/05/plate_simulation.webm" type="video/webm" />
	</video>
	</div>
  <figcaption>Plate simulation (5x speed-up), consisting of about 2'500 triangles</figcaption>
</figure>

<p>While there are still many problems that need more work<sup class="footnote" onclick="showFootnote(this)" title="i.a. continents loosing too much area during collisions, missing details on coastlines and oceanic ridges, no shallow/continental-plate oceans, weird looking elongates plates and unnatural looking splitting of large plates " data-title="i.a. continents loosing too much area during collisions, missing details on coastlines and oceanic ridges, no shallow/continental-plate oceans, weird looking elongates plates and unnatural looking splitting of large plates ">[1]</sup>, the general approach appears to work, at least.</p>

<p>But one thing that I noticed now is that the current tooling to visualize the results is not enough to test and debug the algorithm. So, before I continue working on the algorithm itself, I’ve decided to refactor and improve the editor to better visualize the generated data and allow users to modify the intermediary results. But first, it’s probably a good idea to document how the current implementation of the plate simulation works<sup class="footnote" onclick="showFootnote(this)" title="before I forget how it works and would have to wrangle that knowledge from the code itself... " data-title="before I forget how it works and would have to wrangle that knowledge from the code itself... ">[2]</sup>.</p>

<br>
    <a href="/2022/03/01/tectonics_1">Read more...</a><br><br>
  </div>

  <h1><a href="/2022/03/19/tectonics_2">Plate Tectonics 2</a></h1>
  <p class="author">
    <span class="date">19 March 2022</span>
  </p>
  <div class="content">
    <p>The first aspect we will have to take a closer look at, is how we can generate our starting point, i.e. the initial state before the simulation is run.</p>

<p>We’ve already discussed the first half of that in a <a href="/2021/05/02/world_creation">previous post</a>, where we’ve generated a simple triangle mesh of a sphere. So, I’ll first recap the most important part of that and then dive into how we can populate that mesh with the information we need for the actual simulation, like plate-IDs, plate-velocities and elevations.</p>

<br>
    <a href="/2022/03/19/tectonics_2">Read more...</a><br><br>
  </div>

  <h1><a href="/2022/09/04/tectonics_3">Plate Tectonics 3</a></h1>
  <p class="author">
    <span class="date">04 September 2022</span>
  </p>
  <div class="content">
    <p>Now that we have a way to generate some (albeit a bit dull) tectonic plates, we can use an iterative algorithm that simulates plate movements and interactions, to refine it into (hopefully) realistic looking landforms.</p>

<p>Because the simulation itself is relatively complex<sup class="footnote" onclick="showFootnote(this)" title="As can be deduced from the fact that it has taken me (another) eternity to finally write it down. " data-title="As can be deduced from the fact that it has taken me (another) eternity to finally write it down. ">[1]</sup>, I’ve split it into three separate posts:</p>

<ul>
  <li>Moving the plates and determining how they should interact with each other (this post)</li>
  <li>Updating the mesh after vertices have been moved, which includes the creation and destruction of crust material on plate boundaries, as well as detecting and handling collisions between plates</li>
  <li>Simulating large-scale plate interactions like rifting and suturing</li>
</ul>

<br>
    <a href="/2022/09/04/tectonics_3">Read more...</a><br><br>
  </div>


<!-- Pagination links 
<div class="pagination">
  
    <span class="previous">Previous</span>
  
  <span class="page_number ">Page:  of </span>
  
    <span class="next ">Next</span>
  
</div>
-->

        </div>
        
      </div>
      
  <div id='site-footer' class='site-footer'>
    <div class='pure-g site-footer-container'>

      <div class='pure-u-1 pure-u-sm-1-2 text-align-left-small'>
        &copy; 2019 Florian Oetke
      </div>

      <div class='pure-u-1 pure-u-sm-1-2 text-align-right-small'>
        <a href='/impressum.html'>Impressum / Datenschutzerklärung</a>
      </div>

    </div>
  </div>


    </div>
    
    <div id="image_overlay" class="zoomed_image" onclick="hide_image_overlay(this)">
    	<img>
    	<a href="#">[X]</a>
    </div>
    <div id="footnote_tooltip" onclick="hideFootnote()">
    	<span id="footnote_tooltip_text"></span>
    </div>
  </body>
</html>
